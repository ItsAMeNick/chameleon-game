{"version":3,"sources":["modules/firestore.js","components/LoadTopics.js","components/Join.js","components/Host.js","components/Menu.js","components/Game.js","App.js","serviceWorker.js","modules/reducer.js","modules/store.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","LoadTopics","props","state","loaded","today","Date","console","log","collection","get","then","resp","topics","topic","docs","data","words","setState","cookie","save","toISOString","split","path","setTopics","ProgressBar","now","this","label","Component","connect","dispatch","type","payload","Join","player_name","session_key","error_message","where","length","doc","id","update","players","FieldValue","arrayUnion","setSession","key","setPlayer","db_id","Row","Col","Alert","variant","Form","Label","Control","onChange","e","target","value","Button","onClick","joinGame","name","VALID_CHARS","Host","Math","floor","random","add","stage","round","word","chameleon","ref","hostGame","setRoom","Menu","mode","session","load","Card","Body","Header","genBody","Footer","titleCase","string","sentence","toLowerCase","i","toUpperCase","slice","join","Game","onSnapshot","includeMetadataChanges","exists","updateGame","remove","clearGame","lobby","hints","Object","keys","new_chameleon","delete","p","push","ListGroup","Item","active","map","Table","bordered","striped","genBoard","role","rows","colSpan","r","row","c","genFooter","App","rel","href","integrity","crossOrigin","debug","db_updated","Boolean","window","location","hostname","match","initialState","chameleonReducer","action","newState","_","cloneDeep","reduxStore","REDUX_INITIAL_DATA","createStore","reducer","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.003e05a6.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore'; // eslint-disable-line no-unused-vars\r\n\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FS_API_KEY,\r\n    authDomain: process.env.REACT_APP_FS_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FS_DB_URL,\r\n    projectId: process.env.REACT_APP_FS_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FS_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FS_MESSAGE_ID,\r\n    appId: process.env.REACT_APP_FS_MEASURE_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase.firestore();\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\r\n\r\nclass LoadTopics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: 0,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let today = new Date()\r\n        //You cant store all of the topics in the cookies so you have to load them every time :(\r\n        // if (cookie.load(\"db_update\") === today.toISOString().split(\"T\")[0]) {\r\n        //     console.log(\"Cached Topics\")\r\n        //     this.setState({loaded: 100})\r\n        //     cookie.save(\"db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n        //     console.log(cookie.load(\"topics\"))\r\n        //     this.props.setTopics(cookie.load(\"topics\"))\r\n        // } else {\r\n        //     console.log(\"Getting Topics\")\r\n        //     firestore.collection(\"topics\").get().then(resp => {\r\n        //         let topics = {}\r\n        //         for (let topic in resp.docs) {\r\n        //             let data = resp.docs[topic].data()\r\n        //             topics[data.topic] = data.words\r\n        //         }\r\n        //         this.setState({loaded: 100})\r\n        //         cookie.save(\"db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n        //         cookie.save(\"topics\", topics, {path: \"/\"});\r\n        //         this.props.setTopics(topics)\r\n        //     });\r\n        // }\r\n        console.log(\"Getting Topics\")\r\n        firestore.collection(\"topics\").get().then(resp => {\r\n            let topics = {}\r\n            for (let topic in resp.docs) {\r\n                let data = resp.docs[topic].data()\r\n                topics[data.topic] = data.words\r\n            }\r\n            this.setState({loaded: 100})\r\n            cookie.save(\"db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n            cookie.save(\"topics\", topics, {path: \"/\"});\r\n            this.props.setTopics(topics)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ProgressBar now={this.state.loaded} label={this.state.loaded+\"%\"}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setTopics: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadTopics);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport firebase from \"firebase/app\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nclass Join extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            session_key: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    joinGame() {\r\n        if (this.state.player_name) {\r\n            if (this.state.session_key) {\r\n                firestore.collection(\"sessions\").where(\"key\", \"==\", this.state.session_key).get().then(resp => {\r\n                    if (resp.docs.length === 1) {\r\n                        firestore.collection(\"sessions\").doc(resp.docs[0].id).update({\r\n                            players: firebase.firestore.FieldValue.arrayUnion(this.state.player_name)\r\n                        })\r\n                        this.props.setSession(resp.docs[0].data().key, resp.docs[0].id);\r\n                        this.props.setPlayer(this.state.player_name);\r\n                        cookie.save(\"session\", {key: resp.docs[0].data().key, db_id: resp.docs[0].id})\r\n                        cookie.save(\"player\", this.state.player_name)\r\n                    } else {\r\n                        this.setState({error_message: \"Session key does not exist.\"})\r\n                    }\r\n                })\r\n            } else {\r\n                this.setState({error_message: \"Enter a session key.\"})\r\n            }\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Session Key: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({session_key: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Button onClick={() => this.joinGame()}>\r\n                        Join Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Join);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst VALID_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0987654321\"\r\n\r\nclass Host extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    hostGame() {\r\n        if (this.state.player_name) {\r\n            let key = VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)]\r\n            firestore.collection(\"sessions\").add({\r\n                players: [this.state.player_name],\r\n                key: key,\r\n                stage: \"lobby\",\r\n                round: {\r\n                    id: 0,\r\n                    topic: \"\",\r\n                    word: \"\",\r\n                    chameleon: 0\r\n                }\r\n            }).then(ref => {\r\n                this.props.setSession(key, ref.id)\r\n                this.props.setPlayer(this.state.player_name);\r\n                cookie.save(\"session\", {key: key, db_id: ref.id})\r\n                cookie.save(\"player\", this.state.player_name)\r\n            })\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Button onClick={() => this.hostGame()}>\r\n                        Host Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    topics: state.topics\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setRoom: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Host);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nimport Join from \"./Join.js\";\r\nimport Host from \"./Host.js\"\r\n\r\nclass Menu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mode: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let session = cookie.load(\"session\");\r\n        let name = cookie.load(\"player\");\r\n        if (session && session.key && session.db_id && name) {\r\n                this.props.setSession(session);\r\n                this.props.setPlayer(name);\r\n        }\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.state.mode) {\r\n            case \"join\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Join/>\r\n                    </Card.Body>\r\n                );\r\n            case \"host\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Host/>\r\n                    </Card.Body>\r\n                );\r\n            default:\r\n                return (\r\n                    <Card.Body>\r\n                    <Row>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"success\" onClick={() => this.setState({mode: \"join\"})}>\r\n                                Join\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"warning\" onClick={() => this.setState({mode: \"host\"})}>\r\n                                Host\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                    </Row>\r\n                    </Card.Body>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        The Chameleon Game\r\n                    </Card.Header>\r\n                    {this.genBody()}\r\n                    <Card.Footer>\r\n                        {this.state.mode !== \"\" ?\r\n                            <Button variant=\"dark\" onClick={() => this.setState({mode: \"\"})}>\r\n                                Back\r\n                            </Button>\r\n                        :\r\n                            null\r\n                        }\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (session) => dispatch({\r\n        type: \"set_session\",\r\n        payload: session\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Table from \"react-bootstrap/Table\";\r\n\r\nfunction titleCase(string) {\r\n    if (!string) return \"\";\r\n    let sentence = string.toLowerCase().split(\" \");\r\n    for(let i = 0; i< sentence.length; i++){\r\n        sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n    }\r\n    return sentence.join(\" \");\r\n}\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Set up listener (May need to put this in a promise later)\r\n        firestore.collection(\"sessions\").doc(this.props.session.db_id)\r\n            .onSnapshot({includeMetadataChanges: true}, (doc) => {\r\n                if (doc.exists) {\r\n                    this.props.updateGame(doc.data());\r\n                } else {\r\n                    cookie.remove(\"player\");\r\n                    cookie.remove(\"session\");\r\n                    this.props.clearGame();\r\n                }\r\n            })\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                return this.lobby();\r\n            case \"hints\":\r\n                return <Row>{this.hints()}</Row>;\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    genFooter() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Start Game\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                console.log(word)\r\n                                console.log(topic)\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"hints\",\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon\r\n                                })\r\n                            }}>Start Game</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //End Game\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).delete()\r\n                            }}>End Game</Button>\r\n                        </Col>\r\n                    </Row>)\r\n                } else {\r\n                    return (<Button onClick={() => {\r\n                        console.log(\"LEAVE GAME\")\r\n                    }}>\r\n                        Leave Game\r\n                    </Button>)\r\n                }\r\n            case \"hints\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Next Round\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    \"round.id\": this.props.round+1,\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon\r\n                                })\r\n                            }}>Next Round</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"lobby\",\r\n                                })\r\n                            }}>\r\n                                Return to Lobby\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>)\r\n                }\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    lobby() {\r\n        let lobby = []\r\n        lobby.push(<Alert variant=\"info\" key=\"code\">{\"Room Code: \"+this.props.session.key}</Alert>)\r\n        for (let p in this.props.players) {\r\n            lobby.push(<ListGroup.Item key={p} active={this.props.player_name === this.props.players[p]}>\r\n                {this.props.players[p]}\r\n            </ListGroup.Item>)\r\n        }\r\n        return lobby\r\n    }\r\n\r\n    hints() {\r\n        let hints = []\r\n        hints.push(<Col key={\"players\"}>\r\n                {this.props.players.map((p) => {\r\n                    return (<ListGroup.Item key={p}>\r\n                        {titleCase(p)}\r\n                    </ListGroup.Item>);\r\n                })}\r\n            </Col>);\r\n        hints.push(<Col key=\"board+role\">\r\n            <Row>\r\n                <Table bordered striped>\r\n                    <tbody>\r\n                        {this.genBoard()}\r\n                    </tbody>\r\n                </Table>\r\n            </Row>\r\n                <Alert variant=\"info\">\r\n                    {this.props.role ?\r\n                        \"Secret Word: \"+ titleCase(this.props.role)\r\n                    :\r\n                        \"You are the Chameleon!\"\r\n                    }\r\n                </Alert>\r\n            <Row>\r\n            </Row>\r\n        </Col>)\r\n        return hints;\r\n    }\r\n\r\n    genBoard() {\r\n        let rows = []\r\n        rows.push(<tr key={\"head\"}>\r\n            <th colSpan=\"4\">{titleCase(this.props.topic)}</th>\r\n        </tr>)\r\n        for (let r in [0,1,2,3]) {\r\n            let row = <tr key={\"r\"+r}>\r\n                {[0,1,2,3].map((c) => {\r\n                    return <td key={\"i\"+(r*4 + c)}>\r\n                        {titleCase(this.props.topics[this.props.topic][r*4 + c])}\r\n                    </td>\r\n                })}\r\n            </tr>\r\n            rows.push(row)\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        {titleCase(this.props.stage)}\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        {this.genBody()}\r\n                    </Card.Body>\r\n                    <Card.Footer>\r\n                        {this.genFooter()}\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    session: state.session,\r\n    player_name: state.player_name,\r\n    stage: state.stage,\r\n    players: state.players,\r\n    topics: state.topics,\r\n    topic: state.round.topic,\r\n    role: state.round.role,\r\n    round: state.round.id\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateGame: (doc) => dispatch({\r\n        type: \"update_game\",\r\n        payload: doc\r\n    }),\r\n    clearGame: () => dispatch({\r\n        type: \"clear_game\",\r\n        payload: null\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\r\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\n\nimport LoadTopics from \"./components/LoadTopics.js\";\nimport Menu from \"./components/Menu.js\";\nimport Game from  \"./components/Game.js\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n            <div>\n            <link\n              rel=\"stylesheet\"\n              href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\"\n              integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\n              crossOrigin=\"anonymous\"\n            />\n            <button onClick={() => this.props.debug()}>DEBUG</button>\n            {this.props.db_updated ?\n                <>\n                {this.props.session.key && this.props.session.db_id ?\n                    <Game/>\n                :\n                    <Menu/>\n                }\n                </>\n            :\n                <LoadTopics/>\n            }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    db_updated: state.db_updated,\n    session: state.session,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    debug: () => dispatch({\n        type: \"dump_store\",\n        payload: null\n    }),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import _ from \"lodash\";\r\n\r\nconst initialState = {\r\n    player_name: \"\",\r\n    players: [],\r\n    db_updated: false,\r\n    topics: {},\r\n    session: {\r\n        key: \"\",\r\n        db_id: \"\"\r\n    },\r\n    stage: \"\",\r\n    round: {\r\n        id: 0,\r\n        topic: \"\",\r\n        role: \"\"\r\n    },\r\n};\r\n\r\nconst chameleonReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n    case \"dump_store\": {\r\n        console.log(state);\r\n        return state;\r\n    }\r\n\r\n    case \"set_topics\": {\r\n        let newState = _.cloneDeep(state)\r\n        console.log(action.payload)\r\n        newState.topics = action.payload;\r\n        newState.db_updated = true;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_session\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.session = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_player\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.player_name = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"update_game\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.stage = action.payload.stage;\r\n        newState.players = action.payload.players;\r\n        newState.round.id = action.payload.round.id;\r\n        newState.round.topic = action.payload.round.topic\r\n        if (action.payload.players[action.payload.round.chameleon] === state.player_name) {\r\n            newState.round.role = \"\"\r\n        } else {\r\n            newState.round.role = action.payload.round.word\r\n        }\r\n        return newState;\r\n    }\r\n\r\n    case \"clear_game\": {\r\n        let newState = _.cloneDeep(initialState);\r\n        return newState;\r\n    }\r\n\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport default chameleonReducer;\r\n","import {createStore} from \"redux\";\r\n\r\nimport reducer from \"./reducer\";\r\n\r\nexport default function configureStore(initialState) {\r\n    const store = createStore(reducer, initialState);\r\n    return store;\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport configureStore from \"./modules/store\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst reduxStore = configureStore(window.REDUX_INITIAL_DATA);\n\nReactDOM.render(<ReduxProvider store={reduxStore}><App /></ReduxProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}