{"version":3,"sources":["modules/firestore.js","components/LoadTopics.js","components/Join.js","components/Host.js","components/Menu.js","components/Game.js","App.js","serviceWorker.js","modules/reducer.js","modules/store.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","LoadTopics","props","state","loaded","today","Date","cookie","load","toISOString","split","this","setState","save","path","setTopics","collection","get","then","resp","topics","topic","docs","data","words","ProgressBar","now","label","Component","connect","dispatch","type","payload","Join","player_name","session_key","error_message","where","length","doc","id","update","players","FieldValue","arrayUnion","setSession","key","setPlayer","db_id","Row","Col","Alert","variant","Form","Label","Control","onChange","e","target","value","Button","onClick","joinGame","name","VALID_CHARS","Host","Math","floor","random","add","stage","round","word","chameleon","ref","hostGame","setRoom","Menu","mode","session","Card","Body","Header","genBody","Footer","titleCase","string","sentence","toLowerCase","i","toUpperCase","slice","join","Game","onSnapshot","includeMetadataChanges","exists","updateGame","remove","clearGame","lobby","hints","Object","keys","new_chameleon","console","log","delete","p","push","ListGroup","Item","active","map","Table","bordered","striped","genBoard","role","rows","colSpan","r","row","c","genFooter","App","rel","href","integrity","crossOrigin","debug","db_updated","Boolean","window","location","hostname","match","initialState","chameleonReducer","action","newState","_","cloneDeep","reduxStore","REDUX_INITIAL_DATA","createStore","reducer","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.65b6e54c.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore'; // eslint-disable-line no-unused-vars\r\n\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FS_API_KEY,\r\n    authDomain: process.env.REACT_APP_FS_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FS_DB_URL,\r\n    projectId: process.env.REACT_APP_FS_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FS_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FS_MESSAGE_ID,\r\n    appId: process.env.REACT_APP_FS_MEASURE_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase.firestore();\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\r\n\r\nclass LoadTopics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: 0,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let today = new Date()\r\n\r\n        if (cookie.load(\"db_update\") === today.toISOString().split(\"T\")[0]) {\r\n            this.setState({loaded: 100})\r\n            cookie.save(\"db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n            cookie.save(\"topics\", cookie.load(\"topics\"), {path: \"/\"});\r\n            this.props.setTopics(cookie.load(\"topics\"))\r\n        } else {\r\n            firestore.collection(\"topics\").get().then(resp => {\r\n                let topics = {}\r\n                for (let topic in resp.docs) {\r\n                    let data = resp.docs[topic].data()\r\n                    topics[data.topic] = data.words\r\n                }\r\n                this.setState({loaded: 100})\r\n                cookie.save(\"db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n                cookie.save(\"topics\", topics, {path: \"/\"});\r\n                this.props.setTopics(topics)\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ProgressBar now={this.state.loaded} label={this.state.loaded+\"%\"}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setTopics: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadTopics);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport firebase from \"firebase/app\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nclass Join extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            session_key: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    joinGame() {\r\n        if (this.state.player_name) {\r\n            if (this.state.session_key) {\r\n                firestore.collection(\"sessions\").where(\"key\", \"==\", this.state.session_key).get().then(resp => {\r\n                    if (resp.docs.length === 1) {\r\n                        firestore.collection(\"sessions\").doc(resp.docs[0].id).update({\r\n                            players: firebase.firestore.FieldValue.arrayUnion(this.state.player_name)\r\n                        })\r\n                        this.props.setSession(resp.docs[0].data().key, resp.docs[0].id);\r\n                        this.props.setPlayer(this.state.player_name);\r\n                        cookie.save(\"session\", {key: resp.docs[0].data().key, db_id: resp.docs[0].id})\r\n                        cookie.save(\"player\", this.state.player_name)\r\n                    } else {\r\n                        this.setState({error_message: \"Session key does not exist.\"})\r\n                    }\r\n                })\r\n            } else {\r\n                this.setState({error_message: \"Enter a session key.\"})\r\n            }\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Session Key: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({session_key: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Button onClick={() => this.joinGame()}>\r\n                        Join Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Join);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst VALID_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0987654321\"\r\n\r\nclass Host extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    hostGame() {\r\n        if (this.state.player_name) {\r\n            let key = VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)]\r\n            firestore.collection(\"sessions\").add({\r\n                players: [this.state.player_name],\r\n                key: key,\r\n                stage: \"lobby\",\r\n                round: {\r\n                    id: 0,\r\n                    topic: \"\",\r\n                    word: \"\",\r\n                    chameleon: 0\r\n                }\r\n            }).then(ref => {\r\n                this.props.setSession(key, ref.id)\r\n                this.props.setPlayer(this.state.player_name);\r\n                cookie.save(\"session\", {key: key, db_id: ref.id})\r\n                cookie.save(\"player\", this.state.player_name)\r\n            })\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Button onClick={() => this.hostGame()}>\r\n                        Host Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    topics: state.topics\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setRoom: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Host);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nimport Join from \"./Join.js\";\r\nimport Host from \"./Host.js\"\r\n\r\nclass Menu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mode: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let session = cookie.load(\"session\");\r\n        let name = cookie.load(\"player\");\r\n        if (session && session.key && session.db_id && name) {\r\n                this.props.setSession(session);\r\n                this.props.setPlayer(name);\r\n        }\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.state.mode) {\r\n            case \"join\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Join/>\r\n                    </Card.Body>\r\n                );\r\n            case \"host\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Host/>\r\n                    </Card.Body>\r\n                );\r\n            default:\r\n                return (\r\n                    <Card.Body>\r\n                    <Row>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"success\" onClick={() => this.setState({mode: \"join\"})}>\r\n                                Join\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"warning\" onClick={() => this.setState({mode: \"host\"})}>\r\n                                Host\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                    </Row>\r\n                    </Card.Body>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        The Chameleon Game\r\n                    </Card.Header>\r\n                    {this.genBody()}\r\n                    <Card.Footer>\r\n                        {this.state.mode !== \"\" ?\r\n                            <Button variant=\"dark\" onClick={() => this.setState({mode: \"\"})}>\r\n                                Back\r\n                            </Button>\r\n                        :\r\n                            null\r\n                        }\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (session) => dispatch({\r\n        type: \"set_session\",\r\n        payload: session\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Table from \"react-bootstrap/Table\";\r\n\r\nfunction titleCase(string) {\r\n    if (!string) return \"\";\r\n    let sentence = string.toLowerCase().split(\" \");\r\n    for(let i = 0; i< sentence.length; i++){\r\n        sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n    }\r\n    return sentence.join(\" \");\r\n}\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Set up listener (May need to put this in a promise later)\r\n        firestore.collection(\"sessions\").doc(this.props.session.db_id)\r\n            .onSnapshot({includeMetadataChanges: true}, (doc) => {\r\n                if (doc.exists) {\r\n                    this.props.updateGame(doc.data());\r\n                } else {\r\n                    cookie.remove(\"player\");\r\n                    cookie.remove(\"session\");\r\n                    this.props.clearGame();\r\n                }\r\n            })\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                return this.lobby();\r\n            case \"hints\":\r\n                return <Row>{this.hints()}</Row>;\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    genFooter() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Start Game\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                console.log(word)\r\n                                console.log(topic)\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"hints\",\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon\r\n                                })\r\n                            }}>Start Game</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //End Game\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).delete()\r\n                            }}>End Game</Button>\r\n                        </Col>\r\n                    </Row>)\r\n                } else {\r\n                    return (<Button onClick={() => {\r\n                        console.log(\"LEAVE GAME\")\r\n                    }}>\r\n                        Leave Game\r\n                    </Button>)\r\n                }\r\n            case \"hints\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Next Round\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    \"round.id\": this.props.round+1,\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon\r\n                                })\r\n                            }}>Next Round</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"lobby\",\r\n                                })\r\n                            }}>\r\n                                Return to Lobby\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>)\r\n                }\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    lobby() {\r\n        let lobby = []\r\n        lobby.push(<Alert variant=\"info\" key=\"code\">{\"Room Code: \"+this.props.session.key}</Alert>)\r\n        for (let p in this.props.players) {\r\n            lobby.push(<ListGroup.Item key={p} active={this.props.player_name === this.props.players[p]}>\r\n                {this.props.players[p]}\r\n            </ListGroup.Item>)\r\n        }\r\n        return lobby\r\n    }\r\n\r\n    hints() {\r\n        let hints = []\r\n        hints.push(<Col key={\"players\"}>\r\n                {this.props.players.map((p) => {\r\n                    return (<ListGroup.Item key={p}>\r\n                        {titleCase(p)}\r\n                    </ListGroup.Item>);\r\n                })}\r\n            </Col>);\r\n        hints.push(<Col key=\"board+role\">\r\n            <Row>\r\n                <Table bordered striped>\r\n                    <tbody>\r\n                        {this.genBoard()}\r\n                    </tbody>\r\n                </Table>\r\n            </Row>\r\n                <Alert variant=\"info\">\r\n                    {this.props.role ?\r\n                        \"Secret Word: \"+ titleCase(this.props.role)\r\n                    :\r\n                        \"You are the Chameleon!\"\r\n                    }\r\n                </Alert>\r\n            <Row>\r\n            </Row>\r\n        </Col>)\r\n        return hints;\r\n    }\r\n\r\n    genBoard() {\r\n        let rows = []\r\n        rows.push(<tr key={\"head\"}>\r\n            <th colSpan=\"4\">{titleCase(this.props.topic)}</th>\r\n        </tr>)\r\n        for (let r in [0,1,2,3]) {\r\n            let row = <tr key={\"r\"+r}>\r\n                {[0,1,2,3].map((c) => {\r\n                    return <td key={\"i\"+(r*4 + c)}>\r\n                        {titleCase(this.props.topics[this.props.topic][r*4 + c])}\r\n                    </td>\r\n                })}\r\n            </tr>\r\n            rows.push(row)\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        {titleCase(this.props.stage)}\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        {this.genBody()}\r\n                    </Card.Body>\r\n                    <Card.Footer>\r\n                        {this.genFooter()}\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    session: state.session,\r\n    player_name: state.player_name,\r\n    stage: state.stage,\r\n    players: state.players,\r\n    topics: state.topics,\r\n    topic: state.round.topic,\r\n    role: state.round.role,\r\n    round: state.round.id\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateGame: (doc) => dispatch({\r\n        type: \"update_game\",\r\n        payload: doc\r\n    }),\r\n    clearGame: () => dispatch({\r\n        type: \"clear_game\",\r\n        payload: null\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\r\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\n\nimport LoadTopics from \"./components/LoadTopics.js\";\nimport Menu from \"./components/Menu.js\";\nimport Game from  \"./components/Game.js\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n            <div>\n            <link\n              rel=\"stylesheet\"\n              href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\"\n              integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\n              crossOrigin=\"anonymous\"\n            />\n            <button onClick={() => this.props.debug()}>DEBUG</button>\n            {this.props.db_updated ?\n                <>\n                {this.props.session.key && this.props.session.db_id ?\n                    <Game/>\n                :\n                    <Menu/>\n                }\n                </>\n            :\n                <LoadTopics/>\n            }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    db_updated: state.db_updated,\n    session: state.session,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    debug: () => dispatch({\n        type: \"dump_store\",\n        payload: null\n    }),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import _ from \"lodash\";\r\n\r\nconst initialState = {\r\n    player_name: \"\",\r\n    players: [],\r\n    db_updated: false,\r\n    topics: {},\r\n    session: {\r\n        key: \"\",\r\n        db_id: \"\"\r\n    },\r\n    stage: \"\",\r\n    round: {\r\n        id: 0,\r\n        topic: \"\",\r\n        role: \"\"\r\n    },\r\n};\r\n\r\nconst chameleonReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n    case \"dump_store\": {\r\n        console.log(state);\r\n        return state;\r\n    }\r\n\r\n    case \"set_topics\": {\r\n        let newState = _.cloneDeep(state)\r\n        console.log(action.payload)\r\n        newState.topics = action.payload;\r\n        newState.db_updated = true;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_session\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.session = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_player\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.player_name = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"update_game\": {\r\n        let newState = _.cloneDeep(state)\r\n        newState.stage = action.payload.stage;\r\n        newState.players = action.payload.players;\r\n        newState.round.id = action.payload.round.id;\r\n        newState.round.topic = action.payload.round.topic\r\n        if (action.payload.players[action.payload.round.chameleon] === state.player_name) {\r\n            newState.round.role = \"\"\r\n        } else {\r\n            newState.round.role = action.payload.round.word\r\n        }\r\n        return newState;\r\n    }\r\n\r\n    case \"clear_game\": {\r\n        let newState = _.cloneDeep(initialState);\r\n        return newState;\r\n    }\r\n\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport default chameleonReducer;\r\n","import {createStore} from \"redux\";\r\n\r\nimport reducer from \"./reducer\";\r\n\r\nexport default function configureStore(initialState) {\r\n    const store = createStore(reducer, initialState);\r\n    return store;\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport configureStore from \"./modules/store\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst reduxStore = configureStore(window.REDUX_INITIAL_DATA);\n\nReactDOM.render(<ReduxProvider store={reduxStore}><App /></ReduxProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}