{"version":3,"sources":["modules/firestore.js","components/LoadTopics.js","components/Join.js","components/Host.js","components/Menu.js","components/Game.js","App.js","serviceWorker.js","modules/reducer.js","modules/store.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","LoadTopics","props","state","loaded","Date","collection","get","then","resp","topics","topic","docs","data","words","setState","setTopics","ProgressBar","now","this","label","Component","connect","dispatch","type","payload","Join","player_name","session_key","error_message","where","toUpperCase","length","stage","players","includes","doc","id","update","FieldValue","arrayUnion","setSession","key","setPlayer","cookie","save","db_id","Row","Col","Alert","variant","Form","Label","Control","onChange","e","target","value","Button","onClick","joinGame","name","VALID_CHARS","Host","Math","floor","random","add","round","word","chameleon","ref","hostGame","setRoom","Menu","mode","session","load","Card","Body","Header","genBody","Footer","titleCase","string","sentence","toLowerCase","split","i","slice","join","Game","onSnapshot","includeMetadataChanges","exists","updateGame","remove","clearGame","lobby","hints","voting","voters","results","Object","keys","new_chameleon","delete","arrayRemove","p","push","ListGroup","Item","active","counter","map","Table","bordered","striped","genBoard","role","rows","colSpan","r","row","c","counts","v","votes","genFooter","App","rel","href","integrity","crossOrigin","db_updated","debug","Boolean","window","location","hostname","match","initialState","chameleonReducer","action","console","log","newState","_","cloneDeep","vote","reduxStore","REDUX_INITIAL_DATA","createStore","reducer","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"6PAaAA,IAASC,cAVY,CACjBC,OAAQC,0CACRC,WAAYD,sCACZE,YAAaF,6CACbG,UAAWH,sBACXI,cAAeJ,kCACfK,kBAAmBL,cACnBM,MAAON,iBAKIH,UAASU,Y,wBCRlBC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,OAAQ,GAHG,E,gEAOE,IAAD,OACJ,IAAIC,KAsBhBL,EAAUM,WAAW,UAAUC,MAAMC,MAAK,SAAAC,GACtC,IAAIC,EAAS,GACb,IAAK,IAAIC,KAASF,EAAKG,KAAM,CACzB,IAAIC,EAAOJ,EAAKG,KAAKD,GAAOE,OAC5BH,EAAOG,EAAKF,OAASE,EAAKC,MAE9B,EAAKC,SAAS,CAACX,OAAQ,MACvB,EAAKF,MAAMc,UAAUN,Q,+BAKzB,OACI,6BACI,kBAACO,EAAA,EAAD,CAAaC,IAAKC,KAAKhB,MAAMC,OAAQgB,MAAOD,KAAKhB,MAAMC,OAAO,W,GA7CrDiB,aA6DVC,eAVS,SAAAnB,GAAK,MAAK,MAGP,SAAAoB,GAAQ,MAAK,CACpCP,UAAW,SAACN,GAAD,OAAYa,EAAS,CAC5BC,KAAM,aACNC,QAASf,QAIFY,CAA6CrB,G,6CCxDtDyB,E,kDACF,WAAYxB,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTwB,YAAa,GACbC,YAAa,GACbC,cAAe,IALJ,E,uDASP,IAAD,OACHV,KAAKhB,MAAMwB,YACPR,KAAKhB,MAAMyB,YACX5B,EAAUM,WAAW,YAAYwB,MAAM,MAAO,KAAMX,KAAKhB,MAAMyB,YAAYG,eAAexB,MAAMC,MAAK,SAAAC,GACxE,IAArBA,EAAKG,KAAKoB,OACwB,UAA9BvB,EAAKG,KAAK,GAAGC,OAAOoB,MACpB,EAAKlB,SAAS,CAACc,cAAe,2EACvBpB,EAAKG,KAAK,GAAGC,OAAOqB,QAAQC,SAAS,EAAKhC,MAAMwB,aACvD,EAAKZ,SAAS,CAACc,cAAe,iCAE9B7B,EAAUM,WAAW,YAAY8B,IAAI3B,EAAKG,KAAK,GAAGyB,IAAIC,OAAO,CACzDJ,QAAS5C,IAASU,UAAUuC,WAAWC,WAAW,EAAKrC,MAAMwB,eAEjE,EAAKzB,MAAMuC,WAAWhC,EAAKG,KAAK,GAAGC,OAAO6B,IAAKjC,EAAKG,KAAK,GAAGyB,IAC5D,EAAKnC,MAAMyC,UAAU,EAAKxC,MAAMwB,aAChCiB,IAAOC,KAAK,oBAAqB,CAACH,IAAKjC,EAAKG,KAAK,GAAGC,OAAO6B,IAAKI,MAAOrC,EAAKG,KAAK,GAAGyB,KACpFO,IAAOC,KAAK,mBAAoB,EAAK1C,MAAMwB,cAG/C,EAAKZ,SAAS,CAACc,cAAe,mCAItCV,KAAKJ,SAAS,CAACc,cAAe,yBAGlCV,KAAKJ,SAAS,CAACc,cAAe,oB,+BAI5B,IAAD,OACL,OACI,6BACKV,KAAKhB,MAAM0B,cACR,kBAACkB,EAAA,EAAD,KAAK,kBAACC,EAAA,EAAD,KACD,kBAACC,EAAA,EAAD,CAAOC,QAAQ,UACV/B,KAAKhB,MAAM0B,iBAGtB,KACF,kBAACkB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKC,MAAN,wBAEJ,kBAACJ,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKE,QAAN,CAAcC,SAAU,SAACC,GAAD,OAAO,EAAKxC,SAAS,CAACa,YAAa2B,EAAEC,OAAOC,aAG5E,6BACA,kBAACV,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKC,MAAN,wBAEJ,kBAACJ,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKE,QAAN,CAAcC,SAAU,SAACC,GAAD,OAAO,EAAKxC,SAAS,CAACY,YAAa4B,EAAEC,OAAOC,aAG5E,6BACA,kBAACV,EAAA,EAAD,KACI,kBAACW,EAAA,EAAD,CAAQC,QAAS,kBAAM,EAAKC,aAA5B,mB,GArEDvC,aA+FJC,eAjBS,SAAAnB,GAAK,MAAK,MAGP,SAAAoB,GAAQ,MAAK,CACpCkB,WAAY,SAACC,EAAKI,GAAN,OAAgBvB,EAAS,CACjCC,KAAM,cACNC,QAAS,CACLiB,IAAKA,EACLI,MAAOA,MAGfH,UAAW,SAACkB,GAAD,OAAUtC,EAAS,CAC1BC,KAAM,aACNC,QAASoC,QAIFvC,CAA6CI,GChGtDoC,EAAc,qCAEdC,E,kDACF,WAAY7D,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTwB,YAAa,GACbE,cAAe,IAJJ,E,uDAQP,IAAD,OACP,GAAIV,KAAKhB,MAAMwB,YAAa,CACxB,IAAIe,EAAMoB,EAAYE,KAAKC,MAAMD,KAAKE,SAASJ,EAAY9B,SAAW8B,EAAYE,KAAKC,MAAMD,KAAKE,SAASJ,EAAY9B,SAAW8B,EAAYE,KAAKC,MAAMD,KAAKE,SAASJ,EAAY9B,SAAW8B,EAAYE,KAAKC,MAAMD,KAAKE,SAASJ,EAAY9B,SAC/OhC,EAAUM,WAAW,YAAY6D,IAAI,CACjCjC,QAAS,CAACf,KAAKhB,MAAMwB,aACrBe,IAAKA,EACLT,MAAO,QACPmC,MAAO,CACH/B,GAAI,EACJ1B,MAAO,GACP0D,KAAM,GACNC,UAAW,KAEhB9D,MAAK,SAAA+D,GACJ,EAAKrE,MAAMuC,WAAWC,EAAK6B,EAAIlC,IAC/B,EAAKnC,MAAMyC,UAAU,EAAKxC,MAAMwB,aAChCiB,IAAOC,KAAK,oBAAqB,CAACH,IAAKA,EAAKI,MAAOyB,EAAIlC,KACvDO,IAAOC,KAAK,mBAAoB,EAAK1C,MAAMwB,qBAG/CR,KAAKJ,SAAS,CAACc,cAAe,oB,+BAI5B,IAAD,OACL,OACI,6BACKV,KAAKhB,MAAM0B,cACR,kBAACkB,EAAA,EAAD,KAAK,kBAACC,EAAA,EAAD,KACD,kBAACC,EAAA,EAAD,CAAOC,QAAQ,UACV/B,KAAKhB,MAAM0B,iBAGtB,KACF,kBAACkB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKC,MAAN,wBAEJ,kBAACJ,EAAA,EAAD,KACI,kBAACG,EAAA,EAAKE,QAAN,CAAcC,SAAU,SAACC,GAAD,OAAO,EAAKxC,SAAS,CAACY,YAAa4B,EAAEC,OAAOC,aAG5E,kBAACV,EAAA,EAAD,KACI,kBAACW,EAAA,EAAD,CAAQC,QAAS,kBAAM,EAAKa,aAA5B,mB,GApDDnD,aAmFJC,eAtBS,SAAAnB,GAAK,MAAK,CAC9BO,OAAQP,EAAMO,WAGS,SAAAa,GAAQ,MAAK,CACpCkD,QAAS,SAAC/D,GAAD,OAAYa,EAAS,CAC1BC,KAAM,aACNC,QAASf,KAEb+B,WAAY,SAACC,EAAKI,GAAN,OAAgBvB,EAAS,CACjCC,KAAM,cACNC,QAAS,CACLiB,IAAKA,EACLI,MAAOA,MAGfH,UAAW,SAACkB,GAAD,OAAUtC,EAAS,CAC1BC,KAAM,aACNC,QAASoC,QAIFvC,CAA6CyC,GCpFtDW,E,kDACF,WAAYxE,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTwE,KAAM,IAHK,E,gEAQf,IAAIC,EAAUhC,IAAOiC,KAAK,WACtBhB,EAAOjB,IAAOiC,KAAK,UACnBD,GAAWA,EAAQlC,KAAOkC,EAAQ9B,OAASe,IACvC1C,KAAKjB,MAAMuC,WAAWmC,GACtBzD,KAAKjB,MAAMyC,UAAUkB,M,gCAItB,IAAD,OACN,OAAO1C,KAAKhB,MAAMwE,MACd,IAAK,OACD,OACI,kBAACG,EAAA,EAAKC,KAAN,KACI,kBAAC,EAAD,OAGZ,IAAK,OACD,OACI,kBAACD,EAAA,EAAKC,KAAN,KACI,kBAAC,EAAD,OAGZ,QACI,OACI,kBAACD,EAAA,EAAKC,KAAN,KACA,kBAAChC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQR,QAAQ,UAAUS,QAAS,kBAAM,EAAK5C,SAAS,CAAC4D,KAAM,WAA9D,SAIJ,kBAAC3B,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQR,QAAQ,UAAUS,QAAS,kBAAM,EAAK5C,SAAS,CAAC4D,KAAM,WAA9D,SAIJ,kBAAC3B,EAAA,EAAD,W,+BAOV,IAAD,OACL,OACI,6BACI,kBAAC8B,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKE,OAAN,2BAGC7D,KAAK8D,UACN,kBAACH,EAAA,EAAKI,OAAN,KACyB,KAApB/D,KAAKhB,MAAMwE,KACR,kBAACjB,EAAA,EAAD,CAAQR,QAAQ,OAAOS,QAAS,kBAAM,EAAK5C,SAAS,CAAC4D,KAAM,OAA3D,QAIA,Y,GApETtD,aA2FJC,eAdS,SAAAnB,GAAK,MAAK,MAGP,SAAAoB,GAAQ,MAAK,CACpCkB,WAAY,SAACmC,GAAD,OAAarD,EAAS,CAC9BC,KAAM,cACNC,QAASmD,KAEbjC,UAAW,SAACkB,GAAD,OAAUtC,EAAS,CAC1BC,KAAM,aACNC,QAASoC,QAIFvC,CAA6CoD,G,gBCzF5D,SAASS,EAAUC,GACf,IAAKA,EAAQ,MAAO,GAEpB,IADA,IAAIC,EAAWD,EAAOE,cAAcC,MAAM,KAClCC,EAAI,EAAGA,EAAGH,EAASrD,OAAQwD,IAC/BH,EAASG,GAAKH,EAASG,GAAG,GAAGzD,cAAgBsD,EAASG,GAAGC,MAAM,GAEnE,OAAOJ,EAASK,KAAK,K,IAGnBC,E,kDACF,WAAYzF,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,GAFE,E,gEAME,IAAD,OAEhBH,EAAUM,WAAW,YAAY8B,IAAIjB,KAAKjB,MAAM0E,QAAQ9B,OACnD8C,WAAW,CAACC,wBAAwB,IAAO,SAACzD,GACrCA,EAAI0D,OACJ,EAAK5F,MAAM6F,WAAW3D,EAAIvB,SAE1B+B,IAAOoD,OAAO,UACdpD,IAAOoD,OAAO,WACd,EAAK9F,MAAM+F,kB,gCAMvB,OAAO9E,KAAKjB,MAAM+B,OACd,IAAK,QACD,OAAOd,KAAK+E,QAChB,IAAK,QACD,OAAO,kBAACnD,EAAA,EAAD,KAAM5B,KAAKgF,SACtB,IAAK,SACD,OAAIhF,KAAKjB,MAAMkG,OAAOC,OAAOrE,SAAWb,KAAKjB,MAAMgC,QAAQF,OAChDb,KAAKmF,UAELnF,KAAKiF,SAEpB,QACI,OAAO,Q,kCAIN,IAAD,OACR,OAAOjF,KAAKjB,MAAM+B,OACd,IAAK,QACD,OAAId,KAAKjB,MAAMgC,QAAQ,KAAOf,KAAKjB,MAAMyB,YAE7B,kBAACoB,EAAA,EAAD,KACJ,kBAACC,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WAEb,IAAIhD,EAAQ4F,OAAOC,KAAK,EAAKtG,MAAMQ,QAAQsD,KAAKC,MAAMD,KAAKE,SAASqC,OAAOC,KAAK,EAAKtG,MAAMQ,QAAQsB,SAC/FqC,EAAO,EAAKnE,MAAMQ,OAAOC,GAAOqD,KAAKC,MAAMD,KAAKE,SAAS,EAAKhE,MAAMQ,OAAOC,GAAOqB,SAClFyE,EAAgBzC,KAAKC,MAAMD,KAAKE,SAAS,EAAKhE,MAAMgC,QAAQF,QAChEhC,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEL,MAAO,QACP,cAAetB,EACf,aAAc0D,EACd,kBAAmBoC,EACnB,eAAgB,OAVxB,eAcJ,kBAACzD,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WAEb3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAO4D,WAFnE,cAOA,kBAAChD,EAAA,EAAD,CAAQC,QAAS,WACrB3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEJ,QAAS5C,IAASU,UAAUuC,WAAWoE,YAAY,EAAKzG,MAAMyB,eAC/DnB,MAAK,WACJoC,IAAOoD,OAAO,UACdpD,IAAOoD,OAAO,WACd,EAAK9F,MAAM+F,iBANX,cAYhB,IAAK,QACD,GAAI9E,KAAKjB,MAAMgC,QAAQ,KAAOf,KAAKjB,MAAMyB,YAErC,OAAQ,kBAACoB,EAAA,EAAD,KACJ,kBAACC,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WAEb3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEL,MAAO,aAHf,cAOJ,kBAACe,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WACb3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEL,MAAO,YAFf,qBAUZ,MACJ,IAAK,SACD,GAAId,KAAKjB,MAAMgC,QAAQ,KAAOf,KAAKjB,MAAMyB,YAErC,OAAQ,kBAACoB,EAAA,EAAD,KACJ,kBAACC,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WAEb,IAAIhD,EAAQ4F,OAAOC,KAAK,EAAKtG,MAAMQ,QAAQsD,KAAKC,MAAMD,KAAKE,SAASqC,OAAOC,KAAK,EAAKtG,MAAMQ,QAAQsB,SAC/FqC,EAAO,EAAKnE,MAAMQ,OAAOC,GAAOqD,KAAKC,MAAMD,KAAKE,SAAS,EAAKhE,MAAMQ,OAAOC,GAAOqB,SAClFyE,EAAgBzC,KAAKC,MAAMD,KAAKE,SAAS,EAAKhE,MAAMgC,QAAQF,QAChEhC,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEL,MAAO,QACP,WAAY,EAAK/B,MAAMkE,MAAM,EAC7B,cAAezD,EACf,aAAc0D,EACd,kBAAmBoC,EACnB,eAAgB,OAXxB,eAeJ,kBAACzD,EAAA,EAAD,KACI,kBAACU,EAAA,EAAD,CAAQC,QAAS,WACb3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClEL,MAAO,YAFf,qBAUZ,MACJ,QACI,OAAO,Q,8BAKf,IAAIiE,EAAQ,GAEZ,IAAK,IAAIU,KADTV,EAAMW,KAAK,kBAAC5D,EAAA,EAAD,CAAOC,QAAQ,OAAOR,IAAI,QAAQ,cAAcvB,KAAKjB,MAAM0E,QAAQlC,MAChEvB,KAAKjB,MAAMgC,QACrBgE,EAAMW,KAAK,kBAACC,EAAA,EAAUC,KAAX,CAAgBrE,IAAKkE,EAAGI,OAAQ7F,KAAKjB,MAAMyB,cAAgBR,KAAKjB,MAAMgC,QAAQ0E,IACpFzF,KAAKjB,MAAMgC,QAAQ0E,KAG5B,OAAOV,I,8BAGF,IAAD,OACAC,EAAQ,GACRc,GAAW,EA4Bf,OA3BAd,EAAMU,KAAK,kBAAC7D,EAAA,EAAD,CAAKN,IAAK,WACZvB,KAAKjB,MAAMgC,QAAQgF,KAAI,SAACN,GAErB,OADAK,GAAW,EACH,kBAACH,EAAA,EAAUC,KAAX,CAAgBrE,IAAKkE,EAAE1D,QAAS,EAAKhD,MAAMkE,MAAQ,EAAKlE,MAAMgC,QAAQF,SAAWiF,EAAU,YAAc,IAC5G9B,EAAUyB,SAI3BT,EAAMU,KAAK,wBAAInE,IAAK,WACpByD,EAAMU,KAAK,kBAAC7D,EAAA,EAAD,CAAKN,IAAI,cAChB,kBAACK,EAAA,EAAD,KACI,kBAACoE,EAAA,EAAD,CAAOC,UAAQ,EAACC,SAAO,GACnB,+BACKlG,KAAKmG,cAId,kBAACrE,EAAA,EAAD,CAAOC,QAAQ,QACV/B,KAAKjB,MAAMqH,KACR,gBAAkBpC,EAAUhE,KAAKjB,MAAMqH,MAEvC,0BAGZ,kBAACxE,EAAA,EAAD,QAGGoD,I,iCAGC,IAAD,OACHqB,EAAO,GACXA,EAAKX,KAAK,wBAAInE,IAAK,QACf,wBAAI+E,QAAQ,KAAKtC,EAAUhE,KAAKjB,MAAMS,UAHnC,eAKE+G,GACL,IAAIC,EAAM,wBAAIjF,IAAK,IAAIgF,GAClB,CAAC,EAAE,EAAE,EAAE,GAAGR,KAAI,SAACU,GACZ,OAAO,wBAAIlF,IAAK,KAAO,EAAFgF,EAAME,IACtBzC,EAAU,EAAKjF,MAAMQ,OAAO,EAAKR,MAAMS,OAAS,EAAF+G,EAAME,SAIjEJ,EAAKX,KAAKc,IARd,IAAK,IAAID,IAAK,CAAC,EAAE,EAAE,EAAE,GAAK,EAAjBA,GAUT,OAAOF,I,+BAGD,IAAD,OACDpB,EAAS,GACb,GAAIjF,KAAKjB,MAAMkG,OAAOC,OAAOlE,SAAShB,KAAKjB,MAAMyB,aAC7CyE,EAAOS,KAAK,kBAAC5D,EAAA,EAAD,CAAOC,QAAS,OAAQR,IAAI,aACnC,oCAEF,CAAC,IAAD,WACMkE,GACLR,EAAOS,KAAK,kBAACC,EAAA,EAAUC,KAAX,CAAgBrE,IAAKkE,EAAGvE,GAAIuE,EAAGjD,QAAS,WAChD3D,EAAUM,WAAW,YAAY8B,IAAI,EAAKlC,MAAM0E,QAAQ9B,OAAOR,OAAO,CAClE,eAAgBhD,IAASU,UAAUuC,WAAWC,WAAW,EAAKtC,MAAMyB,YAAY,IAAI,EAAKzB,MAAMgC,QAAQ0E,QAG1G,EAAK1G,MAAMgC,QAAQ0E,MAN5B,IAAK,IAAIA,KAAKzF,KAAKjB,MAAMgC,QAAU,EAA1B0E,GAUb,OAAOR,I,gCAIP,IAAIE,EAAU,GACVuB,EAAS,GACb,IAAK,IAAIC,KAAK3G,KAAKjB,MAAMkG,OAAO2B,MACxB5G,KAAKjB,MAAMkG,OAAO2B,MAAMD,KAAMD,EAC9BA,EAAO1G,KAAKjB,MAAMkG,OAAO2B,MAAMD,KAAO,EAEtCD,EAAO1G,KAAKjB,MAAMkG,OAAO2B,MAAMD,IAAM,EAG7C,IAAK,IAAIF,KAAKrB,OAAOC,KAAKqB,GACtBD,EAAIrB,OAAOC,KAAKqB,GAAQD,GACxBtB,EAAQO,KAAK,kBAACC,EAAA,EAAUC,KAAX,CAAgBrE,IAAKkF,EAAGvF,GAAIuF,GACpCA,EAAE,KAAKC,EAAOD,KAUvB,OAPAtB,EAAQO,KAAK,8BACbP,EAAQO,KAAK,kBAACM,EAAA,EAAD,CAAOC,UAAQ,EAACC,SAAO,GAChC,+BACKlG,KAAKmG,cAIPhB,I,+BAIP,OACI,6BACI,kBAACxB,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKE,OAAN,KACKG,EAAUhE,KAAKjB,MAAM+B,QAE1B,kBAAC6C,EAAA,EAAKC,KAAN,KACK5D,KAAK8D,WAEV,kBAACH,EAAA,EAAKI,OAAN,KACK/D,KAAK6G,mB,GAnQX3G,aAkSJC,eAvBS,SAAAnB,GAAK,MAAK,CAC9ByE,QAASzE,EAAMyE,QACfjD,YAAaxB,EAAMwB,YACnBM,MAAO9B,EAAM8B,MACbC,QAAS/B,EAAM+B,QACfxB,OAAQP,EAAMO,OACdC,MAAOR,EAAMiE,MAAMzD,MACnB4G,KAAMpH,EAAMiE,MAAMmD,KAClBnD,MAAOjE,EAAMiE,MAAM/B,GACnB+D,OAAQjG,EAAMiG,WAGS,SAAA7E,GAAQ,MAAK,CACpCwE,WAAY,SAAC3D,GAAD,OAASb,EAAS,CAC1BC,KAAM,cACNC,QAASW,KAEb6D,UAAW,kBAAM1E,EAAS,CACtBC,KAAM,aACNC,QAAS,WAIFH,CAA6CqE,GClTtDsC,E,kDACF,WAAY/H,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,GAFE,E,kGASf,OACI,6BACA,0BACE+H,IAAI,aACJC,KAAK,wEACLC,UAAU,0EACVC,YAAY,cAGblH,KAAKjB,MAAMoI,WACR,oCACCnH,KAAKjB,MAAM0E,QAAQlC,KAAOvB,KAAKjB,MAAM0E,QAAQ9B,MAC1C,kBAAC,EAAD,MAEA,kBAAC,EAAD,OAIJ,kBAAC,EAAD,W,GA5BEzB,aA+CHC,eAZS,SAAAnB,GAAK,MAAK,CAC9BmI,WAAYnI,EAAMmI,WAClB1D,QAASzE,EAAMyE,YAGQ,SAAArD,GAAQ,MAAK,CACpCgH,MAAO,kBAAMhH,EAAS,CAClBC,KAAM,aACNC,QAAS,WAIFH,CAA6C2G,GC1CxCO,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,6BChBAC,EAAe,CACjBlH,YAAa,GACbO,QAAS,GACToG,YAAY,EACZ5H,OAAQ,GACRkE,QAAS,CACLlC,IAAK,GACLI,MAAO,IAEXb,MAAO,GACPmC,MAAO,CACH/B,GAAI,EACJ1B,MAAO,GACP4G,KAAM,IAEVnB,OAAQ,CACJC,OAAQ,GACR0B,MAAO,KA6DAe,EAzDU,WAAmC,IAAlC3I,EAAiC,uDAAzB0I,EAAcE,EAAW,uCACvD,OAAQA,EAAOvH,MACf,IAAK,aAED,OADAwH,QAAQC,IAAI9I,GACLA,EAGX,IAAK,aACD,IAAI+I,EAAWC,IAAEC,UAAUjJ,GAG3B,OAFA+I,EAASxI,OAASqI,EAAOtH,QACzByH,EAASZ,YAAa,EACfY,EAGX,IAAK,cACD,IAAIA,EAAWC,IAAEC,UAAUjJ,GAE3B,OADA+I,EAAStE,QAAUmE,EAAOtH,QACnByH,EAGX,IAAK,aACD,IAAIA,EAAWC,IAAEC,UAAUjJ,GAE3B,OADA+I,EAASvH,YAAcoH,EAAOtH,QACvByH,EAGX,IAAK,cACD,IAAIA,EAAWC,IAAEC,UAAUjJ,GAY3B,IAAK,IAAI2H,KAXToB,EAASjH,MAAQ8G,EAAOtH,QAAQQ,MAChCiH,EAAShH,QAAU6G,EAAOtH,QAAQS,QAClCgH,EAAS9E,MAAM/B,GAAK0G,EAAOtH,QAAQ2C,MAAM/B,GACzC6G,EAAS9E,MAAMzD,MAAQoI,EAAOtH,QAAQ2C,MAAMzD,MACxCoI,EAAOtH,QAAQS,QAAQ6G,EAAOtH,QAAQ2C,MAAME,aAAenE,EAAMwB,YACjEuH,EAAS9E,MAAMmD,KAAO,GAEtB2B,EAAS9E,MAAMmD,KAAOwB,EAAOtH,QAAQ2C,MAAMC,KAE/C6E,EAAS9C,OAAOC,OAAS,GACzB6C,EAAS9C,OAAO2B,MAAQ,GACVgB,EAAOtH,QAAQ2C,MAAMgC,OAAQ,CACvC,IAAIiD,EAAON,EAAOtH,QAAQ2C,MAAMgC,OAAO0B,GAAGvC,MAAM,KAChD2D,EAAS9C,OAAOC,OAAOQ,KAAKwC,EAAK,IACjCH,EAAS9C,OAAO2B,MAAMlB,KAAKwC,EAAK,IAEpC,OAAOH,EAGX,IAAK,aACD,IAAIA,EAAWC,IAAEC,UAAUP,GAC3B,OAAOK,EAGX,QACI,OAAO/I,I,UCxEwB0I,ECOjCS,GDPiCT,ECOLJ,OAAOc,mBDNvBC,YAAYC,EAASZ,ICQvCa,IAASC,OAAO,kBAAC,IAAD,CAAeC,MAAON,GAAY,kBAAC,EAAD,OAAyBO,SAASC,eAAe,SHsH7F,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBzJ,MAAK,SAAA0J,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLrB,QAAQqB,MAAMA,EAAMC,c","file":"static/js/main.65fbbd48.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore'; // eslint-disable-line no-unused-vars\r\n\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FS_API_KEY,\r\n    authDomain: process.env.REACT_APP_FS_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FS_DB_URL,\r\n    projectId: process.env.REACT_APP_FS_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FS_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FS_MESSAGE_ID,\r\n    appId: process.env.REACT_APP_FS_MEASURE_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase.firestore();\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\r\n\r\nclass LoadTopics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: 0,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let today = new Date()\r\n        //You cant store all of the topics in the cookies so you have to load them every time :(\r\n        // if (cookie.load(\"db_update\") === today.toISOString().split(\"T\")[0]) {\r\n        //     console.log(\"Cached Topics\")\r\n        //     this.setState({loaded: 100})\r\n        //     cookie.save(\"chameleon_db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n        //     console.log(cookie.load(\"topics\"))\r\n        //     this.props.setTopics(cookie.load(\"topics\"))\r\n        // } else {\r\n        //     console.log(\"Getting Topics\")\r\n        //     firestore.collection(\"topics\").get().then(resp => {\r\n        //         let topics = {}\r\n        //         for (let topic in resp.docs) {\r\n        //             let data = resp.docs[topic].data()\r\n        //             topics[data.topic] = data.words\r\n        //         }\r\n        //         this.setState({loaded: 100})\r\n        //         cookie.save(\"chameleon_db_update\", today.toISOString().split(\"T\")[0], {path: \"/\"})\r\n        //         cookie.save(\"chameleon_topics\", topics, {path: \"/\"});\r\n        //         this.props.setTopics(topics)\r\n        //     });\r\n        // }\r\n        firestore.collection(\"topics\").get().then(resp => {\r\n            let topics = {}\r\n            for (let topic in resp.docs) {\r\n                let data = resp.docs[topic].data()\r\n                topics[data.topic] = data.words\r\n            }\r\n            this.setState({loaded: 100})\r\n            this.props.setTopics(topics)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ProgressBar now={this.state.loaded} label={this.state.loaded+\"%\"}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setTopics: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadTopics);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport firebase from \"firebase/app\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nclass Join extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            session_key: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    joinGame() {\r\n        if (this.state.player_name) {\r\n            if (this.state.session_key) {\r\n                firestore.collection(\"sessions\").where(\"key\", \"==\", this.state.session_key.toUpperCase()).get().then(resp => {\r\n                    if (resp.docs.length === 1) {\r\n                        if (resp.docs[0].data().stage !== \"lobby\") {\r\n                            this.setState({error_message: \"Please wait for the current round to finish before attempting to join.\"})\r\n                        } else if (resp.docs[0].data().players.includes(this.state.player_name)) {\r\n                            this.setState({error_message: \"Player name is unavaliable.\"})\r\n                        } else {\r\n                            firestore.collection(\"sessions\").doc(resp.docs[0].id).update({\r\n                                players: firebase.firestore.FieldValue.arrayUnion(this.state.player_name)\r\n                            })\r\n                            this.props.setSession(resp.docs[0].data().key, resp.docs[0].id);\r\n                            this.props.setPlayer(this.state.player_name);\r\n                            cookie.save(\"chameleon_session\", {key: resp.docs[0].data().key, db_id: resp.docs[0].id})\r\n                            cookie.save(\"chameleon_player\", this.state.player_name)\r\n                        }\r\n                    } else {\r\n                        this.setState({error_message: \"Session key does not exist.\"})\r\n                    }\r\n                })\r\n            } else {\r\n                this.setState({error_message: \"Enter a session key.\"})\r\n            }\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Session Key: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({session_key: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <br/>\r\n                <Row>\r\n                    <Button onClick={() => this.joinGame()}>\r\n                        Join Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Join);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst VALID_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ98765432\"\r\n\r\nclass Host extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            player_name: \"\",\r\n            error_message: \"\"\r\n        };\r\n    }\r\n\r\n    hostGame() {\r\n        if (this.state.player_name) {\r\n            let key = VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)] + VALID_CHARS[Math.floor(Math.random()*VALID_CHARS.length)]\r\n            firestore.collection(\"sessions\").add({\r\n                players: [this.state.player_name],\r\n                key: key,\r\n                stage: \"lobby\",\r\n                round: {\r\n                    id: 0,\r\n                    topic: \"\",\r\n                    word: \"\",\r\n                    chameleon: 0\r\n                }\r\n            }).then(ref => {\r\n                this.props.setSession(key, ref.id)\r\n                this.props.setPlayer(this.state.player_name);\r\n                cookie.save(\"chameleon_session\", {key: key, db_id: ref.id})\r\n                cookie.save(\"chameleon_player\", this.state.player_name)\r\n            })\r\n        } else {\r\n            this.setState({error_message: \"Enter a Name!\"})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.error_message ?\r\n                    <Row><Col>\r\n                        <Alert variant=\"danger\">\r\n                            {this.state.error_message}\r\n                        </Alert>\r\n                    </Col></Row>\r\n                : null}\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Label> Player Name: </Form.Label>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Control onChange={(e) => this.setState({player_name: e.target.value})}/>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Button onClick={() => this.hostGame()}>\r\n                        Host Game\r\n                    </Button>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    topics: state.topics\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setRoom: (topics) => dispatch({\r\n        type: \"set_topics\",\r\n        payload: topics\r\n    }),\r\n    setSession: (key, db_id) => dispatch({\r\n        type: \"set_session\",\r\n        payload: {\r\n            key: key,\r\n            db_id: db_id\r\n        }\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Host);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport cookie from \"react-cookies\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nimport Join from \"./Join.js\";\r\nimport Host from \"./Host.js\"\r\n\r\nclass Menu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mode: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let session = cookie.load(\"session\");\r\n        let name = cookie.load(\"player\");\r\n        if (session && session.key && session.db_id && name) {\r\n                this.props.setSession(session);\r\n                this.props.setPlayer(name);\r\n        }\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.state.mode) {\r\n            case \"join\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Join/>\r\n                    </Card.Body>\r\n                );\r\n            case \"host\":\r\n                return (\r\n                    <Card.Body>\r\n                        <Host/>\r\n                    </Card.Body>\r\n                );\r\n            default:\r\n                return (\r\n                    <Card.Body>\r\n                    <Row>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"success\" onClick={() => this.setState({mode: \"join\"})}>\r\n                                Join\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                        <Col>\r\n                            <Button variant=\"warning\" onClick={() => this.setState({mode: \"host\"})}>\r\n                                Host\r\n                            </Button>\r\n                        </Col>\r\n                        <Col/>\r\n                    </Row>\r\n                    </Card.Body>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        The Chameleon Game\r\n                    </Card.Header>\r\n                    {this.genBody()}\r\n                    <Card.Footer>\r\n                        {this.state.mode !== \"\" ?\r\n                            <Button variant=\"dark\" onClick={() => this.setState({mode: \"\"})}>\r\n                                Back\r\n                            </Button>\r\n                        :\r\n                            null\r\n                        }\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSession: (session) => dispatch({\r\n        type: \"set_session\",\r\n        payload: session\r\n    }),\r\n    setPlayer: (name) => dispatch({\r\n        type: \"set_player\",\r\n        payload: name\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport firestore from \"../modules/firestore.js\";\r\nimport cookie from \"react-cookies\";\r\nimport firebase from \"firebase/app\";\r\n\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Table from \"react-bootstrap/Table\";\r\n\r\nfunction titleCase(string) {\r\n    if (!string) return \"\";\r\n    let sentence = string.toLowerCase().split(\" \");\r\n    for(let i = 0; i< sentence.length; i++){\r\n        sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n    }\r\n    return sentence.join(\" \");\r\n}\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Set up listener (May need to put this in a promise later)\r\n        firestore.collection(\"sessions\").doc(this.props.session.db_id)\r\n            .onSnapshot({includeMetadataChanges: true}, (doc) => {\r\n                if (doc.exists) {\r\n                    this.props.updateGame(doc.data());\r\n                } else {\r\n                    cookie.remove(\"player\");\r\n                    cookie.remove(\"session\");\r\n                    this.props.clearGame();\r\n                }\r\n            })\r\n    }\r\n\r\n    genBody() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                return this.lobby();\r\n            case \"hints\":\r\n                return <Row>{this.hints()}</Row>;\r\n            case \"voting\":\r\n                if (this.props.voting.voters.length === this.props.players.length) {\r\n                    return this.results();\r\n                } else {\r\n                    return this.voting();\r\n                }\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    genFooter() {\r\n        switch(this.props.stage) {\r\n            case \"lobby\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Start Game\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"hints\",\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon,\r\n                                    \"round.voting\": []\r\n                                })\r\n                            }}>Start Game</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //End Game\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).delete()\r\n                            }}>End Game</Button>\r\n                        </Col>\r\n                    </Row>)\r\n                } else {\r\n                    return (<Button onClick={() => {\r\n                        firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                            players: firebase.firestore.FieldValue.arrayRemove(this.props.player_name),\r\n                        }).then(() => {\r\n                            cookie.remove(\"player\");\r\n                            cookie.remove(\"session\");\r\n                            this.props.clearGame();\r\n                        })\r\n                    }}>\r\n                        Leave Game\r\n                    </Button>)\r\n                }\r\n            case \"hints\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Next Round\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"voting\"\r\n                                })\r\n                            }}>To Voting</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"lobby\",\r\n                                })\r\n                            }}>\r\n                                Return to Lobby\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>)\r\n                }\r\n                break;\r\n            case \"voting\":\r\n                if (this.props.players[0] === this.props.player_name) {\r\n                    //HOST ONLY\r\n                    return (<Row>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                //Next Round\r\n                                let topic = Object.keys(this.props.topics)[Math.floor(Math.random()*Object.keys(this.props.topics).length)];\r\n                                let word = this.props.topics[topic][Math.floor(Math.random()*this.props.topics[topic].length)];\r\n                                let new_chameleon = Math.floor(Math.random()*this.props.players.length);\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"hints\",\r\n                                    \"round.id\": this.props.round+1,\r\n                                    \"round.topic\": topic,\r\n                                    \"round.word\": word,\r\n                                    \"round.chameleon\": new_chameleon,\r\n                                    \"round.voting\": []\r\n                                })\r\n                            }}>Next Round</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={() => {\r\n                                firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                                    stage: \"lobby\",\r\n                                })\r\n                            }}>\r\n                                Return to Lobby\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>)\r\n                }\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    lobby() {\r\n        let lobby = [];\r\n        lobby.push(<Alert variant=\"info\" key=\"code\">{\"Room Code: \"+this.props.session.key}</Alert>)\r\n        for (let p in this.props.players) {\r\n            lobby.push(<ListGroup.Item key={p} active={this.props.player_name === this.props.players[p]}>\r\n                {this.props.players[p]}\r\n            </ListGroup.Item>)\r\n        }\r\n        return lobby;\r\n    }\r\n\r\n    hints() {\r\n        let hints = []\r\n        let counter = -1;\r\n        hints.push(<Col key={\"players\"}>\r\n                {this.props.players.map((p) => {\r\n                    counter += 1;\r\n                    return (<ListGroup.Item key={p}variant={this.props.round % this.props.players.length === counter ? \"secondary\" : \"\"}>\r\n                        {titleCase(p)}\r\n                    </ListGroup.Item>);\r\n                })}\r\n            </Col>);\r\n        hints.push(<br key={\"break\"}/>);\r\n        hints.push(<Col key=\"board+role\">\r\n            <Row>\r\n                <Table bordered striped>\r\n                    <tbody>\r\n                        {this.genBoard()}\r\n                    </tbody>\r\n                </Table>\r\n            </Row>\r\n                <Alert variant=\"info\">\r\n                    {this.props.role ?\r\n                        \"Secret Word: \" + titleCase(this.props.role)\r\n                    :\r\n                        \"You are the Chameleon!\"\r\n                    }\r\n                </Alert>\r\n            <Row>\r\n            </Row>\r\n        </Col>)\r\n        return hints;\r\n    }\r\n\r\n    genBoard() {\r\n        let rows = []\r\n        rows.push(<tr key={\"head\"}>\r\n            <th colSpan=\"4\">{titleCase(this.props.topic)}</th>\r\n        </tr>)\r\n        for (let r in [0,1,2,3]) {\r\n            let row = <tr key={\"r\"+r}>\r\n                {[0,1,2,3].map((c) => {\r\n                    return <td key={\"i\"+(r*4 + c)}>\r\n                        {titleCase(this.props.topics[this.props.topic][r*4 + c])}\r\n                    </td>\r\n                })}\r\n            </tr>\r\n            rows.push(row)\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    voting() {\r\n        let voting = [];\r\n        if (this.props.voting.voters.includes(this.props.player_name)) {\r\n            voting.push(<Alert variant={\"info\"} key=\"vote cast\">\r\n                {\"Your vote has been counted.\"}\r\n            </Alert>);\r\n        } else {\r\n            for (let p in this.props.players) {\r\n                voting.push(<ListGroup.Item key={p} id={p} onClick={() => {\r\n                    firestore.collection(\"sessions\").doc(this.props.session.db_id).update({\r\n                        \"round.voting\": firebase.firestore.FieldValue.arrayUnion(this.props.player_name+\"|\"+this.props.players[p]),\r\n                    })\r\n                }}>\r\n                    {this.props.players[p]}\r\n                </ListGroup.Item>)\r\n            }\r\n        }\r\n        return voting;\r\n    }\r\n\r\n    results() {\r\n        let results = [];\r\n        let counts = {};\r\n        for (let v in this.props.voting.votes) {\r\n            if (this.props.voting.votes[v] in counts) {\r\n                counts[this.props.voting.votes[v]] += 1;\r\n            } else {\r\n                counts[this.props.voting.votes[v]] = 1;\r\n            }\r\n        }\r\n        for (let c in Object.keys(counts)) {\r\n            c = Object.keys(counts)[c];\r\n            results.push(<ListGroup.Item key={c} id={c}>\r\n                {c+\": \"+counts[c]}\r\n            </ListGroup.Item>)\r\n        }\r\n        results.push(<br/>);\r\n        results.push(<Table bordered striped>\r\n            <tbody>\r\n                {this.genBoard()}\r\n            </tbody>\r\n        </Table>);\r\n\r\n        return results;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Card.Header>\r\n                        {titleCase(this.props.stage)}\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        {this.genBody()}\r\n                    </Card.Body>\r\n                    <Card.Footer>\r\n                        {this.genFooter()}\r\n                    </Card.Footer>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    session: state.session,\r\n    player_name: state.player_name,\r\n    stage: state.stage,\r\n    players: state.players,\r\n    topics: state.topics,\r\n    topic: state.round.topic,\r\n    role: state.round.role,\r\n    round: state.round.id,\r\n    voting: state.voting,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateGame: (doc) => dispatch({\r\n        type: \"update_game\",\r\n        payload: doc\r\n    }),\r\n    clearGame: () => dispatch({\r\n        type: \"clear_game\",\r\n        payload: null\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\r\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\n\nimport LoadTopics from \"./components/LoadTopics.js\";\nimport Menu from \"./components/Menu.js\";\nimport Game from  \"./components/Game.js\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n            <div>\n            <link\n              rel=\"stylesheet\"\n              href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\"\n              integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\n              crossOrigin=\"anonymous\"\n            />\n            {/*<button onClick={() => this.props.debug()}>DEBUG</button>*/}\n            {this.props.db_updated ?\n                <>\n                {this.props.session.key && this.props.session.db_id ?\n                    <Game/>\n                :\n                    <Menu/>\n                }\n                </>\n            :\n                <LoadTopics/>\n            }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    db_updated: state.db_updated,\n    session: state.session,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    debug: () => dispatch({\n        type: \"dump_store\",\n        payload: null\n    }),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import _ from \"lodash\";\r\n\r\nconst initialState = {\r\n    player_name: \"\",\r\n    players: [],\r\n    db_updated: false,\r\n    topics: {},\r\n    session: {\r\n        key: \"\",\r\n        db_id: \"\"\r\n    },\r\n    stage: \"\",\r\n    round: {\r\n        id: 0,\r\n        topic: \"\",\r\n        role: \"\"\r\n    },\r\n    voting: {\r\n        voters: [],\r\n        votes: [],\r\n    }\r\n};\r\n\r\nconst chameleonReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n    case \"dump_store\": {\r\n        console.log(state);\r\n        return state;\r\n    }\r\n\r\n    case \"set_topics\": {\r\n        let newState = _.cloneDeep(state);\r\n        newState.topics = action.payload;\r\n        newState.db_updated = true;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_session\": {\r\n        let newState = _.cloneDeep(state);\r\n        newState.session = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"set_player\": {\r\n        let newState = _.cloneDeep(state);\r\n        newState.player_name = action.payload;\r\n        return newState;\r\n    }\r\n\r\n    case \"update_game\": {\r\n        let newState = _.cloneDeep(state);\r\n        newState.stage = action.payload.stage;\r\n        newState.players = action.payload.players;\r\n        newState.round.id = action.payload.round.id;\r\n        newState.round.topic = action.payload.round.topic;\r\n        if (action.payload.players[action.payload.round.chameleon] === state.player_name) {\r\n            newState.round.role = \"\";\r\n        } else {\r\n            newState.round.role = action.payload.round.word;\r\n        }\r\n        newState.voting.voters = [];\r\n        newState.voting.votes = [];\r\n        for (let v in action.payload.round.voting) {\r\n            let vote = action.payload.round.voting[v].split(\"|\");\r\n            newState.voting.voters.push(vote[0])\r\n            newState.voting.votes.push(vote[1]);\r\n        }\r\n        return newState;\r\n    }\r\n\r\n    case \"clear_game\": {\r\n        let newState = _.cloneDeep(initialState);\r\n        return newState;\r\n    }\r\n\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport default chameleonReducer;\r\n","import {createStore} from \"redux\";\r\n\r\nimport reducer from \"./reducer\";\r\n\r\nexport default function configureStore(initialState) {\r\n    const store = createStore(reducer, initialState);\r\n    return store;\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport configureStore from \"./modules/store\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst reduxStore = configureStore(window.REDUX_INITIAL_DATA);\n\nReactDOM.render(<ReduxProvider store={reduxStore}><App /></ReduxProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}